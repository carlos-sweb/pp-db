<!DOCTYPE html>
<html lang="en" style="height:100%;">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
  <title>Document</title>
</head>
<body style="padding-top:56px;background-color:#F5F5F5;height:100%!important;min-height:100%!important;">

  <div class="container">

  	<!--LISTA DE BASE DE DATOS-->
	<div class="card" style="max-width:480px;">  
	  <div class="card-header">
	  	<div class="card-header-title">
	  		Databases
	  	</div>
	  </div>	
	  <div class="card-content">  
	    <div class="content">      	
	      	<table class="table is-fullwith is-striped">
	      		<thead>
	      			<th>Name</th>
	      			<th>Version</th>
	      		</thead>
	      		<tbody id="databases" >
	      			<tr><td>&nbsp;</td><td>&nbsp;</td></tr>	      			
	      		</tbody>
	      	</table>
	      	<hr>
	      	<form action="">

<!--FORMULARIO-->
<div class="field is-horizontal" >  
  <div class="field-body">
    <div class="field">
      <p class="control is-expanded has-icons-left">
        <input class="input" type="text" placeholder="Name">
        <span class="icon is-small is-left">
          <i class="fas fa-user"></i>
        </span>
      </p>
    </div>
    <div class="field">
      <p class="control is-expanded has-icons-left has-icons-right">
        <input class="input is-success" type="email" placeholder="Email" value="alex@smith.com">
        <span class="icon is-small is-left">
          <i class="fas fa-envelope"></i>
        </span>
        <span class="icon is-small is-right">
          <i class="fas fa-check"></i>
        </span>
      </p>
    </div>
    <div class="field">
      <p class="control is-expanded ">
        <button class="button is-primary">ADD</button>        
      </p>
    </div>
  </div>
</div>
<!--FORMULARIO-->

	      		
	      			
	      		


</form>


	      	
	    </div>
	  </div>
	</div>
	<!--LISTA DE BASE DE DATOS-->

      

  </div>

<script src="db.js"></script>
<script type="text/javascript">

var databases = [];

var _db = new ppDB();

_db.open('pharmacy',1,{
	error:function(event){
		alert("Database error: " + event.target.errorCode);
	},
	success:function(event){

		console.log(event.target);

		console.log("Estamos listos SUCCESS");

	},
	upgradeneeded:function(){

		console.log("Estamos listos upgradeneeded");

	}
});

const promise = indexedDB.databases().then(( data )=>{
  	
  	var c = document.getElementById('databases');
  	var string = "";
  	data.forEach((d)=>{
  		string += "<tr><td>"+d.name+"</td><td>"+d.version+"</td></tr>";
  	});

  	setTimeout(()=>{
  		c.innerHTML = string;
  	},800);
  	


});

console.log(promise)



</script>

</body>
</html>